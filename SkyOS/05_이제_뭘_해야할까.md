# 당연이 커널 맨들어야지

하드웨어의 입력을 인식해야 하는데 그러면 하드웨어 초기화 해야하니까 하자.

## CPU 보호모드
CPU 보호모드를 사용하기 위해서 GDT를 사용한다. 안전하게 쓰기 위해서 라는데 우선순위나 접근 권한도 갖고있나보다. 일단 만들라면 만들어보자.

### GDT

일단 구조체를 만들어야 한다. (구조체가 있어야 우리가 쓸 수가 있음.) 그래서 구조체를 만들었다. 크기는 8바이트란다.
```c++
typedef struct tag_gdtDescriptor 
{
	USHORT			segmentLimit;
	USHORT			baseLow;
	BYTE			baseMiddle;
	BYTE			flags;
	BYTE			grand;
	BYTE			baseHigh;
}gdtDescriptor;
```
근데 이걸 CPU가 갖고있을 수는 없으니까 위치를 알려줘야 하는데 그때 GDTR레지스터에 저장을 하고 그 위치를 알려준다!! 아래는 GDTR구조체의 모습은 아래와 같다.
```c++
typedef struct tag_gdtr {
	USHORT		limit; //GDT의크기
	UINT		base; //GDT의시작주소
}gdtr;
```